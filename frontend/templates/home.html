{% extends 'base.html' %}

{% block title %}TOPUPGAMEMOBILE - Fast & Secure Game Top-Up Service{% endblock %}

{% block meta_description %}Professional game top-up service with instant delivery. Support 50+ popular games including PUBG, Mobile Legends, Free Fire. Secure payment via USDT TRC20. 24/7 customer support.{% endblock %}

{% block content %}

<!-- ============================================ -->
<!-- HERO SECTION -->
<!-- ============================================ -->
<section class="hero-section relative -mx-4 -mt-8 mb-16"
         style="{% if site_appearance.hero_background_image %}background-image: url('{{ site_appearance.hero_background_image.url }}'); background-size: cover; background-position: center;{% endif %}">
    <!-- Background Pattern -->
    <div class="hero-bg-pattern absolute inset-0"></div>

    <!-- Floating Particles -->
    <div class="hero-particles">
        <div class="hero-particle" style="left: 10%; animation-delay: 0s;"></div>
        <div class="hero-particle" style="left: 20%; animation-delay: 2s;"></div>
        <div class="hero-particle" style="left: 40%; animation-delay: 4s;"></div>
        <div class="hero-particle" style="left: 60%; animation-delay: 1s;"></div>
        <div class="hero-particle" style="left: 80%; animation-delay: 3s;"></div>
        <div class="hero-particle" style="left: 90%; animation-delay: 5s;"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-4xl mx-auto text-center py-16 md:py-24">
            <!-- Badge -->
            <div class="inline-flex items-center px-4 py-2 rounded-full bg-primary-500/20 border border-primary-500/30 mb-6 animate-fade-in">
                <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse mr-2"></span>
                <span class="text-sm text-primary-300">Trusted by 50,000+ Gamers</span>
            </div>

            <!-- Main Heading -->
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold mb-6 leading-tight animate-fade-in-up">
                <span class="text-white">{{ site_appearance.hero_title|default:"Fast & Secure" }}</span>
                <br>
                <span class="bg-gradient-to-r from-primary-400 via-pink-400 to-primary-400 bg-clip-text text-transparent">
                    Game Top-Up
                </span>
            </h1>

            <!-- Subtitle -->
            <p class="text-lg md:text-xl text-dark-300 mb-8 max-w-2xl mx-auto animate-fade-in-up delay-100">
                {{ site_appearance.hero_subtitle|default:"Support 50+ popular games • Instant delivery in 5 minutes • 24/7 customer support" }}
            </p>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row justify-center gap-4 mb-8 animate-fade-in-up delay-200">
                <a href="/games/" class="btn btn-primary btn-glow text-lg px-8 py-4">
                    <i class="fas fa-gamepad mr-2"></i>
                    {{ site_appearance.hero_primary_button|default:"Top Up Now" }}
                </a>
                <a href="#how-it-works" class="btn btn-outline text-lg px-8 py-4">
                    <i class="fas fa-play-circle mr-2"></i>
                    {{ site_appearance.hero_secondary_button|default:"How It Works" }}
                </a>
            </div>

            <!-- Trust Badges -->
            <div class="flex flex-wrap justify-center gap-6 text-sm text-dark-400 animate-fade-in-up delay-300">
                <div class="flex items-center">
                    <i class="fas fa-shield-alt mr-2 text-green-400"></i>
                    <span>Secure Payment</span>
                </div>
                <div class="flex items-center">
                    <i class="fas fa-bolt mr-2 text-yellow-400"></i>
                    <span>Instant Delivery</span>
                </div>
                <div class="flex items-center">
                    <i class="fas fa-headset mr-2 text-primary-400"></i>
                    <span>24/7 Support</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- FEATURED GAMES -->
<!-- ============================================ -->
<section class="mb-20">
    <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
            <i class="fas fa-fire text-orange-500 mr-2"></i>
            Featured Games
        </h2>
        <p class="text-dark-400 text-lg">Most popular games right now</p>
    </div>

    <div id="featuredGames" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
        <!-- Loading state -->
        <div class="col-span-full text-center py-12">
            <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"></div>
            <p class="text-dark-400 mt-4">Loading games...</p>
        </div>
    </div>

    <div class="text-center mt-10">
        <a href="/games/" class="btn btn-primary text-lg px-8 py-4">
            <i class="fas fa-th mr-2"></i>
            View All Games
        </a>
    </div>
</section>

<!-- ============================================ -->
<!-- HOW IT WORKS -->
<!-- ============================================ -->
<section id="how-it-works" class="mb-20 py-16 bg-dark-800/50 rounded-2xl border border-dark-700">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
                Top-Up in 3 Simple Steps
            </h2>
            <p class="text-dark-400 text-lg">Fast, easy, and secure</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 relative">
            <!-- Connector Line -->
            <div class="hidden md:block absolute top-20 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-primary-500 via-pink-500 to-primary-500"></div>

            <!-- Step 1 -->
            <div class="text-center relative">
                <div class="w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold mx-auto mb-6 shadow-lg shadow-primary-500/30 transform hover:scale-110 transition-transform">
                    1
                </div>
                <h3 class="text-xl font-bold text-white mb-3">
                    <i class="fas fa-gamepad text-primary-400 mr-2"></i>
                    Choose Game
                </h3>
                <p class="text-dark-400">
                    Select your favorite game from our extensive collection of 50+ popular titles
                </p>
            </div>

            <!-- Step 2 -->
            <div class="text-center relative">
                <div class="w-16 h-16 bg-gradient-to-br from-pink-500 to-pink-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold mx-auto mb-6 shadow-lg shadow-pink-500/30 transform hover:scale-110 transition-transform">
                    2
                </div>
                <h3 class="text-xl font-bold text-white mb-3">
                    <i class="fas fa-shopping-cart text-pink-400 mr-2"></i>
                    Select Package
                </h3>
                <p class="text-dark-400">
                    Choose the package that suits your needs and complete the payment
                </p>
            </div>

            <!-- Step 3 -->
            <div class="text-center relative">
                <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold mx-auto mb-6 shadow-lg shadow-green-500/30 transform hover:scale-110 transition-transform">
                    3
                </div>
                <h3 class="text-xl font-bold text-white mb-3">
                    <i class="fas fa-gift text-green-400 mr-2"></i>
                    Receive Instantly
                </h3>
                <p class="text-dark-400">
                    Your items will be automatically delivered to your game account within minutes
                </p>
            </div>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- WHY CHOOSE US -->
<!-- ============================================ -->
<section class="mb-20">
    <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
            Why Choose Us?
        </h2>
        <p class="text-dark-400 text-lg">Trusted by thousands of gamers worldwide</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Feature 1 -->
        <div class="feature-card group">
            <div class="feature-icon group-hover:scale-110 transition-transform">
                <i class="fas fa-bolt"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Lightning Fast</h3>
            <p class="text-dark-400">Automated delivery system ensures your top-up is completed within 5 minutes</p>
        </div>

        <!-- Feature 2 -->
        <div class="feature-card group">
            <div class="feature-icon bg-gradient-to-br from-green-500 to-emerald-600 group-hover:scale-110 transition-transform">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">100% Secure</h3>
            <p class="text-dark-400">Your information and payments are protected with bank-level encryption</p>
        </div>

        <!-- Feature 3 -->
        <div class="feature-card group">
            <div class="feature-icon bg-gradient-to-br from-purple-500 to-violet-600 group-hover:scale-110 transition-transform">
                <i class="fas fa-headset"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">24/7 Support</h3>
            <p class="text-dark-400">Our customer support team is always ready to help you anytime</p>
        </div>

        <!-- Feature 4 -->
        <div class="feature-card group">
            <div class="feature-icon bg-gradient-to-br from-orange-500 to-amber-600 group-hover:scale-110 transition-transform">
                <i class="fas fa-tag"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Best Prices</h3>
            <p class="text-dark-400">Competitive rates and regular discounts for our valued customers</p>
        </div>

        <!-- Feature 5 -->
        <div class="feature-card group">
            <div class="feature-icon bg-gradient-to-br from-pink-500 to-rose-600 group-hover:scale-110 transition-transform">
                <i class="fas fa-gamepad"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">50+ Games</h3>
            <p class="text-dark-400">Support for popular games including PUBG, Mobile Legends, Free Fire</p>
        </div>

        <!-- Feature 6 -->
        <div class="feature-card group">
            <div class="feature-icon bg-gradient-to-br from-cyan-500 to-blue-600 group-hover:scale-110 transition-transform">
                <i class="fas fa-wallet"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-3">Flexible Payment</h3>
            <p class="text-dark-400">Multiple payment methods: USDT TRC20, internal wallet, and more</p>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- STATISTICS -->
<!-- ============================================ -->
<section class="mb-20 py-12 bg-gradient-to-r from-primary-600/20 via-pink-600/20 to-primary-600/20 rounded-2xl border border-primary-500/20">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            <div class="stat-card">
                <div class="stat-number" data-target="50000" id="stat1">0</div>
                <div class="stat-label">Happy Customers</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" data-target="100000" id="stat2">0</div>
                <div class="stat-label">Successful Orders</div>
            </div>
            <div class="stat-card">
                <div class="stat-number"><span data-target="50" id="stat3">0</span>+</div>
                <div class="stat-label">Games Supported</div>
            </div>
            <div class="stat-card">
                <div class="stat-number text-2xl md:text-3xl lg:text-4xl">24/7</div>
                <div class="stat-label">Customer Support</div>
            </div>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- PAYMENT METHODS -->
<!-- ============================================ -->
<section class="mb-20">
    <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
            Payment Methods
        </h2>
        <p class="text-dark-400 text-lg">Secure and convenient payment options</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto">
        <!-- USDT TRC20 -->
        <div class="card p-8 text-center group">
            <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                <i class="fab fa-bitcoin text-3xl text-white"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-2">USDT TRC20</h3>
            <p class="text-dark-400">Fast and secure cryptocurrency payment</p>
        </div>

        <!-- Internal Wallet -->
        <div class="card p-8 text-center group">
            <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                <i class="fas fa-wallet text-3xl text-white"></i>
            </div>
            <h3 class="text-xl font-bold text-white mb-2">Internal Wallet</h3>
            <p class="text-dark-400">Use your account balance for instant checkout</p>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- FAQ -->
<!-- ============================================ -->
<section class="mb-20">
    <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
            Frequently Asked Questions
        </h2>
        <p class="text-dark-400 text-lg">Got questions? We've got answers</p>
    </div>

    <div class="max-w-3xl mx-auto space-y-4">
        <!-- FAQ 1 -->
        <div class="faq-item" onclick="toggleFAQ(this)">
            <button class="faq-question">
                <span>How long does the top-up take?</span>
                <i class="fas fa-chevron-down faq-icon text-dark-400"></i>
            </button>
            <div class="faq-answer">
                Most top-ups are completed within 5 minutes through our automated system. In rare cases, it may take up to 30 minutes during peak hours.
            </div>
        </div>

        <!-- FAQ 2 -->
        <div class="faq-item" onclick="toggleFAQ(this)">
            <button class="faq-question">
                <span>Is it safe to use this service?</span>
                <i class="fas fa-chevron-down faq-icon text-dark-400"></i>
            </button>
            <div class="faq-answer">
                Yes, absolutely! We use bank-level encryption to protect your data and transactions. We've been serving thousands of customers safely since 2020.
            </div>
        </div>

        <!-- FAQ 3 -->
        <div class="faq-item" onclick="toggleFAQ(this)">
            <button class="faq-question">
                <span>What payment methods do you accept?</span>
                <i class="fas fa-chevron-down faq-icon text-dark-400"></i>
            </button>
            <div class="faq-answer">
                We accept USDT TRC20 cryptocurrency and internal wallet balance. More payment methods are coming soon!
            </div>
        </div>

        <!-- FAQ 4 -->
        <div class="faq-item" onclick="toggleFAQ(this)">
            <button class="faq-question">
                <span>Can I get a refund?</span>
                <i class="fas fa-chevron-down faq-icon text-dark-400"></i>
            </button>
            <div class="faq-answer">
                Refunds are available before the top-up is processed. Once items are delivered to your game account, refunds are not possible. Please double-check your game ID before ordering.
            </div>
        </div>

        <!-- FAQ 5 -->
        <div class="faq-item" onclick="toggleFAQ(this)">
            <button class="faq-question">
                <span>Do I need to register an account?</span>
                <i class="fas fa-chevron-down faq-icon text-dark-400"></i>
            </button>
            <div class="faq-answer">
                Yes, registration is required to track your orders and manage your wallet balance. It only takes a minute to create an account!
            </div>
        </div>

        <!-- FAQ 6 -->
        <div class="faq-item" onclick="toggleFAQ(this)">
            <button class="faq-question">
                <span>How can I contact support?</span>
                <i class="fas fa-chevron-down faq-icon text-dark-400"></i>
            </button>
            <div class="faq-answer">
                You can reach our support team 24/7 via email at support@gametopup.com or through our Telegram channel @gametopup. We typically respond within minutes!
            </div>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- FINAL CTA -->
<!-- ============================================ -->
<section class="mb-8 py-16 bg-gradient-to-r from-primary-600 via-pink-600 to-primary-600 rounded-2xl text-center relative overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-10">
        <div class="absolute top-10 left-10 animate-bounce">
            <i class="fas fa-gamepad text-6xl"></i>
        </div>
        <div class="absolute bottom-10 right-10 animate-pulse">
            <i class="fas fa-trophy text-5xl"></i>
        </div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-white mb-6">
            Ready to Top Up Your Game?
        </h2>
        <p class="text-lg md:text-xl text-white/80 mb-8 max-w-2xl mx-auto">
            Join thousands of happy gamers who trust us for their game top-ups
        </p>
        <div class="flex flex-col sm:flex-row justify-center gap-4">
            <a href="/games/" class="btn bg-white text-primary-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-lg">
                <i class="fas fa-gamepad mr-2"></i>
                Browse Games
            </a>
            <a href="/register/" class="btn bg-yellow-400 text-gray-900 hover:bg-yellow-300 text-lg px-8 py-4 shadow-lg">
                <i class="fas fa-user-plus mr-2"></i>
                Register Now
            </a>
        </div>
        <div class="mt-8 flex flex-wrap justify-center gap-6 text-sm text-white/80">
            <div class="flex items-center">
                <i class="fas fa-check-circle mr-2 text-green-300"></i>
                <span>No hidden fees</span>
            </div>
            <div class="flex items-center">
                <i class="fas fa-check-circle mr-2 text-green-300"></i>
                <span>Instant delivery</span>
            </div>
            <div class="flex items-center">
                <i class="fas fa-check-circle mr-2 text-green-300"></i>
                <span>Trusted by 50,000+ users</span>
            </div>
        </div>
    </div>
</section>

<!-- JavaScript -->
<script>
// Load featured games from API
async function loadFeaturedGames() {
    try {
        const response = await fetch('/api/games/?limit=8');
        const data = await response.json();

        const container = document.getElementById('featuredGames');

        if (data.results && data.results.length > 0) {
            container.innerHTML = data.results.map(game => `
                <a href="/games/${game.slug}/" class="game-card block">
                    <div class="game-card-image">
                        <img src="${game.image}" alt="${game.name}" loading="lazy">
                        <div class="game-card-overlay"></div>
                    </div>
                    <div class="game-card-content">
                        <h3 class="font-bold text-white mb-1 truncate">${game.name}</h3>
                        <p class="text-dark-400 text-sm truncate">${game.description || 'Top up now!'}</p>
                    </div>
                </a>
            `).join('');
        } else {
            container.innerHTML = '<div class="col-span-full text-center py-8 text-dark-400">No games available yet.</div>';
        }
    } catch (error) {
        console.error('Error loading games:', error);
        document.getElementById('featuredGames').innerHTML =
            '<div class="col-span-full text-center py-8 text-red-400">Failed to load games. Please try again later.</div>';
    }
}

// Toggle FAQ
function toggleFAQ(item) {
    const wasActive = item.classList.contains('active');

    // Close all FAQs
    document.querySelectorAll('.faq-item').forEach(faq => {
        faq.classList.remove('active');
    });

    // Open clicked if it wasn't active
    if (!wasActive) {
        item.classList.add('active');
    }
}

// Animate counters
function animateCounter(element) {
    const target = parseInt(element.getAttribute('data-target'));
    const duration = 2000;
    const step = target / (duration / 16);
    let current = 0;

    const timer = setInterval(() => {
        current += step;
        if (current >= target) {
            element.textContent = target.toLocaleString();
            clearInterval(timer);
        } else {
            element.textContent = Math.floor(current).toLocaleString();
        }
    }, 16);
}

// Intersection Observer for counters
const observerOptions = {
    threshold: 0.5,
    rootMargin: '0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting && !entry.target.classList.contains('animated')) {
            animateCounter(entry.target);
            entry.target.classList.add('animated');
        }
    });
}, observerOptions);

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    // Load games
    loadFeaturedGames();

    // Observe counter elements
    const counters = document.querySelectorAll('[data-target]');
    counters.forEach(counter => observer.observe(counter));
});
</script>

{% endblock %}
